<div class="login-page">
  <!-- Vidéo de fond -->
  <video class="bg-video" autoplay muted loop playsinline preload="auto">
    <source src="assets/images/monoprix.mp4" type="video/mp4" />
    Your browser does not support the video tag.
  </video>

  <!-- Overlay + Formulaire -->
  <div class="login-overlay">
    <div class="login-container">
      <div *ngIf="!roleSelected; else signInForm">
        <h2>Select Your Role</h2>

        <!-- Cartes de sélection de rôle avec des icônes -->
        <div class="roles-container">
          <div class="role-card" (click)="selectRole('CEO')">
            <i class="fa fa-crown"></i>
            <span>CEO</span>
            <p>Lead the company and set strategic directions.</p>
          </div>
          <div class="role-card" (click)="selectRole('Supply Chain Manager')">
            <i class="fa fa-truck"></i>
            <span>Supply Chain Manager</span>
            <p>Manage logistics and supply chain operations.</p>
          </div>
          <div class="role-card" (click)="selectRole('Accounting Manager')">
            <i class="fa fa-calculator"></i>
            <span>Accounting Manager</span>
            <p>Oversee financial records and accounting functions.</p>
          </div>
        </div>
      </div>

      <!-- Template pour afficher le formulaire de connexion après la sélection du rôle -->
      <ng-template #signInForm>
        <div class="welcome-message">
          <h2>Welcome, {{ selectedRole }}</h2>
          <p>Please sign in to continue.</p>
        </div>

        <form (ngSubmit)="onLogin()" #f="ngForm">
          <div class="form-group">
            <label for="username">Username</label>
            <input
              id="username"
              name="username"
              type="text"
              class="form-control"
              [(ngModel)]="username"
              required
            />
          </div>
          <div class="form-group">
            <label for="password">Password</label>
            <input
              id="password"
              name="password"
              type="password"
              class="form-control"
              [(ngModel)]="password"
              required
            />
          </div>
          <button type="submit" class="btn btn-signin" [disabled]="f.invalid">Sign In</button>
        </form>
      </ng-template>
    </div>
  </div>
</div>
